{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\jano2187\\\\Documents\\\\GitHub\\\\ReactTesting\\\\front_end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\jano2187\\\\Documents\\\\GitHub\\\\ReactTesting\\\\front_end\\\\src\\\\pages\\\\QuestionPage\\\\ViewQuestions.js\";\nimport React, { useState, useEffect } from 'react';\nimport { v4 as uuidv4 } from \"uuid\";\nimport axios from 'axios';\nimport './ViewQuestion.css';\nexport default function ViewQuestions() {\n  var _this = this;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      questions = _useState2[0],\n      setQuestions = _useState2[1];\n\n  var _useState3 = useState(0),\n      _useState4 = _slicedToArray(_useState3, 2),\n      update = _useState4[0],\n      setUpdate = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      comment = _useState6[0],\n      setComment = _useState6[1];\n\n  var _useState7 = useState(\"\"),\n      _useState8 = _slicedToArray(_useState7, 2),\n      showComment = _useState8[0],\n      setshowComment = _useState8[1];\n\n  useEffect(function () {\n    fetch('http://localhost:9001/users/viewQuestion').then(function (res) {\n      return res.json();\n    }).then(function (data) {\n      return setQuestions(data);\n    });\n  }, [update]);\n\n  var question_vote = function question_vote(id, votes) {\n    var newVotes = votes == null ? 1 : votes + 1;\n    console.log(newVotes);\n    var updatequestion = {\n      'id': id,\n      'votes': newVotes\n    };\n    axios.patch('http://localhost:9001/users/viewQuestion', updatequestion).then(console.log(\"axios testing\")).then(setUpdate(update + 1));\n  };\n\n  var submitComment = function submitComment(questionID) {\n    var id = uuidv4();\n    var qID = questionID;\n    var addComment = {\n      'id': id,\n      'qID': qID,\n      'comment': comment\n    };\n    axios.post('http://localhost:9001/comment/responses', addComment).then(console.log(\"axios testing\"));\n  };\n\n  axios.get('http://localhost:9001/comment/responses').then(function (response) {\n    setshowComment(response.data[0].comment);\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"column-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 21\n    }\n  }, \"View All Questions\"), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"element\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card bg-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 33\n    }\n  }, questions.map(function (q) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      class: \"accordion-item\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"title-color\",\n      key: q.id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 45\n      }\n    }, q.asker == null ? \"Unknown\" : q.asker), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"question-style\",\n      key: q.id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 49\n      }\n    }, q.question), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"m-3 font-weight-bold text-danger \",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 53\n      }\n    }, \"Likes: \", q.votes == null ? \"0\" : q.votes, \" \"), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn bg-danger font-weight-bold text-white text-center m-4\",\n      value: \"Vote\",\n      onClick: function onClick() {\n        return question_vote(q.id, q.votes);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 53\n      }\n    }, \" Double Click to Like\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 57\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      className: \"form-style\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 61\n      }\n    }, /*#__PURE__*/React.createElement(\"textarea\", {\n      className: \"textarea-style2 form-control form-control-lg\",\n      onChange: function onChange(e) {\n        return setComment(e.target.value);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 65\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      value: \"Submit A Comment\",\n      className: \"btn btn-success m-3 \",\n      onClick: function onClick() {\n        return submitComment(q.id);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 65\n      }\n    }, \"Submit A Comment\"))), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"comment-style\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 61\n      }\n    }, \"Comments: \"), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"border m-3 p-2\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 61\n      }\n    }, \"  \", showComment, \" \"), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"border m-3 p-2 text-danger\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 61\n      }\n    }, \" Please check the database for further comment analysis\"));\n  })))))));\n}","map":{"version":3,"sources":["C:/Users/jano2187/Documents/GitHub/ReactTesting/front_end/src/pages/QuestionPage/ViewQuestions.js"],"names":["React","useState","useEffect","v4","uuidv4","axios","ViewQuestions","questions","setQuestions","update","setUpdate","comment","setComment","showComment","setshowComment","fetch","then","res","json","data","question_vote","id","votes","newVotes","console","log","updatequestion","patch","submitComment","questionID","qID","addComment","post","get","response","map","q","asker","question","e","target","value"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\r\nimport { v4 as uuidv4 } from \"uuid\";\r\nimport axios from 'axios';\r\nimport './ViewQuestion.css'\r\n\r\nexport default function ViewQuestions(){\r\n\r\n    const [questions, setQuestions] = useState([]);\r\n    const [update, setUpdate] = useState(0);\r\n    const [comment, setComment] = useState(\"\");\r\n    const [showComment, setshowComment] = useState(\"\");\r\n\r\n    useEffect(() => {\r\n        fetch('http://localhost:9001/users/viewQuestion')  \r\n          .then(res => res.json())\r\n          .then(data => setQuestions(data))\r\n      }, [update])\r\n\r\n\r\n      const question_vote = (id, votes) =>{\r\n\r\n        var newVotes = votes == null ? 1 : votes + 1;\r\n\r\n        console.log(newVotes);\r\n\r\n        var updatequestion = {\r\n            'id': id, \r\n            'votes': newVotes\r\n        }\r\n\r\n        axios.patch('http://localhost:9001/users/viewQuestion', updatequestion\r\n        ).then(console.log(\"axios testing\"))\r\n        .then(setUpdate(update + 1))\r\n\r\n        \r\n    }\r\n\r\n    const submitComment = (questionID) =>{\r\n        var id = uuidv4();\r\n        var qID = questionID;\r\n        var addComment = {\r\n            'id': id, \r\n            'qID': qID, \r\n            'comment': comment\r\n        }\r\n\r\n          axios.post('http://localhost:9001/comment/responses', addComment\r\n        ).then(console.log(\"axios testing\"))\r\n\r\n        \r\n\r\n\r\n      }\r\n      \r\n      axios.get('http://localhost:9001/comment/responses')\r\n        .then((response) => {setshowComment(response.data[0].comment);});\r\n      \r\n\r\n      \r\n\r\n    return(\r\n        <div>\r\n            <div class = \"header\">\r\n                <div class = \"column-text\">\r\n                    <h1>\r\n                        View All Questions\r\n                        </h1>\r\n                    <div class=\"element\">\r\n                            <div className=\"card bg-primary\">\r\n                                <div className=\"card-body\">\r\n                                        {questions.map(q =>\r\n                                        <div class=\"accordion-item\">\r\n                                            <div className='title-color' key={q.id}>{q.asker == null ? \"Unknown\":q.asker}</div>\r\n                                                <div className=\"question-style\" key={q.id}>{q.question}</div>\r\n                                                    <p className=\"m-3 font-weight-bold text-danger \">Likes: {q.votes == null ? \"0\":q.votes} </p>\r\n                                                    <button className=\"btn bg-danger font-weight-bold text-white text-center m-4\" value=\"Vote\" onClick={() => question_vote(q.id, q.votes)}> Double Click to Like</button> \r\n                                                        <div className='container'>\r\n                                                            <form className='form-style'>\r\n                                                                <textarea \r\n                                                                className=\"textarea-style2 form-control form-control-lg\" \r\n                                                                onChange={(e)=>setComment(e.target.value)}></textarea>\r\n                                                                <button value=\"Submit A Comment\" className=\"btn btn-success m-3 \" onClick={() => submitComment(q.id)}>Submit A Comment</button>\r\n                                                            </form>\r\n                                                        </div>\r\n                                                            <p className='comment-style'>Comments: </p>\r\n                                                            <p className='border m-3 p-2'>  {showComment} </p> \r\n                                                            <p className='border m-3 p-2 text-danger'> Please check the database for further comment analysis</p> \r\n                                        </div>)}\r\n                                    \r\n                                </div>\r\n                            </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}"]},"metadata":{},"sourceType":"module"}